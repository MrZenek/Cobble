package net.mrzenek.cobble.komendy;

import net.mrzenek.cobble.Cobble;

import org.bukkit.ChatColor;
import org.bukkit.entity.Player;

public class Global implements SubCommands {

	@Override
	public boolean onCommand(Player player, String[] args) {
		if(player.hasPermission(permission())){
			if(args.length < 1){
				if(Cobble.global.get("*") != null){
					if(Cobble.global.get("*").equalsIgnoreCase("false")){
						player.sendMessage(ChatColor.BLUE + "[Cobble]" + ChatColor.DARK_AQUA + "Drop cobblestone globalnie jest wylaczony");
						return true;
					}	
				}else{
					player.sendMessage(ChatColor.BLUE + "[Cobble]" + ChatColor.DARK_AQUA + "Drop cobblestone globalnie jest wlaczony");
					return true;
				}
				
				
			}
			if(args.length == 1){
				if(args[0].toLowerCase().startsWith("off")){
					Cobble.global.put("*", "false");
					player.sendMessage(ChatColor.BLUE + "[Cobble]" + ChatColor.GREEN + "Wylaczyles globalny drop");
					return true;
				}else{
					if(args[0].toLowerCase().startsWith("on")){
						Cobble.global.remove("*");
						player.sendMessage(ChatColor.BLUE + "[Cobble]" + ChatColor.GREEN + "Wlaczyles globalny drop");
						return true;
					}
				}
			}
		}else{
			player.sendMessage(ChatColor.BLUE + "[Cobble]" + ChatColor.DARK_RED + "Nie posiadasz Permission do tej komendy!");
		}
		return true;
	}

	@Override
	public String help(Player p) {
		return "/cobble global on/off - wlacza lub wylacza globalny drop";
	}

	@Override
	public String permission() {
		return "cobble.global";
	}

}
